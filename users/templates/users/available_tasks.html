{% extends 'events/base.html' %}
{% load qr_filters %}

{% block title %}–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è{% endblock %}

{% block content %}
<h2 class="mb-4">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>

{% if tasks %}
    <div class="card-grid">
        {% for task in tasks %}
        <div class="event-card">
<div class="card h-100">
<div class="card-body">
<div class="card-title">{{ task.name }}</div>
<p class="card-text">{{ task.description }}</p>
<p class="card-text"><strong>–ù–∞–≥—Ä–∞–¥–∞:</strong> üí∞ {{ task.reward }} ‚ÇΩ</p>
                    {% if task.code %}
                        <p><strong>–ö–æ–¥:</strong> {{ task.code }}</p>
<img alt="QR Code" src="{{ task|generate_task_qr }}" style="max-width: 120px; margin-top: 10px; border-radius: 8px;"/>
                    {% endif %}
                </div>
</div>
</div>
        {% endfor %}
    </div>
{% else %}
    <p>–ó–∞–¥–∞–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>
{% endif %}
{% endblock %}
