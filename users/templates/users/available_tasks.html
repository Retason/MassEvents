{% extends 'events/base.html' %}
{% load qr_filters %}

{% block title %}–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è{% endblock %}

{% block content %}
<h2 class="mb-4">üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>

{% if tasks %}
    <div class="row row-cols-1 row-cols-md-2 g-4">
        {% for task in tasks %}
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">{{ task.name }}</h5>
                    <p class="card-text">{{ task.description }}</p>
                    <p><strong>–ù–∞–≥—Ä–∞–¥–∞:</strong> üí∞ {{ task.reward }} ‚ÇΩ</p>
                    {% if task.code %}
                        <p><strong>–ö–æ–¥:</strong> {{ task.code }}</p>
                        <img src="{{ task|generate_task_qr }}" alt="QR Code">
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <p>–ó–∞–¥–∞–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.</p>
{% endif %}
{% endblock %}
